# История изменений:

#### v5.0.0:
#### закрыта critical уязвимость сервиса, фронт с react-router
* fix: закрыт доступ к бд снаружи докера
* fix: исправлены несколько багов на фронте и в логике работы с дампами
* fix: исправлен тестовый db-репозиторий с моком IQueryable
* upd: обновлены версии зависимостей
* upd: изменена структура проекта 
  - добавлены скрипты для npm
  - проект фронта убран из решения, редуцирован до файлов и разложен по виртуальным папкам (временный вариант)
* upd: начата чистка кода и изменение именований, в т.ч. контекста EF
* upd: добавлено использование SQLite для запуска интеграционных тестов и пример интеграционника
* ci: добавлен пробный пайплайн для прогона билда и тестов под .NET

#### v5.1.0
#### настройка локальной и удаленной разработки: подготовка CI/CD
* fix: фронт переработан для разработки с Vite 10.2.4 под Node 21.5.0 - npm 10.2.4 - React 17.0.0
  - время билда, количество зависимостей и артефактов сократилось на порядок
  - сборка проверена на младших версиях Node (18.19.0, 20.10.0)
* fix: поправлено использование кук совместно с CORS - модифицируется SameSite для соответсвия [**draft-west-cookie-incrementalism-00**](https://datatracker.ietf.org/doc/html/draft-west-cookie-incrementalism-00)
* upd: добавлен докерфайл для билда образа .NET + React
* upd: добавлен лаунчер среды разработки для JS (управление dev-сервером и браузером)
* ci: добавлен пробный пайплайн для прогона билда под Node.JS
* ci: добавлен пробный пайплайн для прогона билда образа сервиса с фронтом
* ci: добавлен пробный пайплайн для публикации докер-образа в GitHub Registry
* ci: тк на CI внутри билда .NET стал запускаться npm build, пререлизный JavaScript.Sdk был заменен на NET.Sdk и esproj исрправлен на csproj
* ci: для .NET использован базовый образ alpine, размер итогового образа сокращен в два раза
* cd: добавлен пробный пайплайн деплоя на удалённый сервер
* cd: добавлен пробный пайплайн для развертывания в кластере kubernetes k3s и манифесты для сервиса и mysql (в процессе проверки)

#### v5.1.1
* fix: отключена модификация cookie для prod
* upd: https ready: изменен манифест ingress для поддержи DV SSL сертификата (kubectl create secret tls secret-tls --key=... --cert=...)

#### v5.1.2
* upd: переименованы файлы GitHub CI/CD
* upd: переименованы файлы манифестов K3S
* upd: проекты очищены от лишних комментариев
* upd: добавлены summary

### next versions
* planned upd:
    - I... тесты: для JS
    - II... GitHub CI: соединить пробные пайплайны в один, завязать публикацию образа на выпуск релиза 
                       и использовать для него артефакты билда сервиса и фронта
    - III... GitHub CD: подготовить варианты интеграции с облегченным k8s (k3s - в процессе)
* planned fix: разберись с SSL и почини авторизацию с куками в кластере K3S: 
  **Set-Cookie header was blocked because it had the "Secure" attribute but was not received over a secure connection**
